<Ui xmlns="http://www.blizzard.com/wow/ui/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.blizzard.com/wow/ui/ https://raw.githubusercontent.com/Gethe/wow-ui-source/live/Interface/AddOns/Blizzard_SharedXML/UI.xsd">

    <Button name="MapPinEnhancedButtonRedTemplate" virtual="true">
        <Layers>
            <Layer level="BACKGROUND">
                <Texture
                    parentKey="left"
                    file="Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Left.png">
                    <Anchors>
                        <Anchor point="TOPLEFT" />
                        <Anchor point="BOTTOMLEFT" />
                    </Anchors>
                </Texture>
                <Texture
                    parentKey="right"
                    file="Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Right.png">
                    <Anchors>
                        <Anchor point="TOPRIGHT" />
                        <Anchor point="BOTTOMRIGHT" />
                    </Anchors>
                </Texture>
                <Texture
                    parentKey="middle" horizTile="true"
                    file="Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Centre.png">
                    <Size x="2" />
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeKey="$parent.left" relativePoint="TOPRIGHT"></Anchor>
                        <Anchor point="BOTTOMRIGHT" relativeKey="$parent.right"
                            relativePoint="BOTTOMLEFT"></Anchor>
                    </Anchors>
                </Texture>
            </Layer>
            <Layer level="HIGHLIGHT">
                <Texture parentKey="highlight"
                    horizTile="true"
                    file="Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLarge_Highlight.png"
                    alpha="0.5">
                    <Size x="2" />
                    <Anchors>
                        <Anchor point="TOPLEFT" x="2" />
                        <Anchor point="BOTTOMRIGHT" x="-2" />
                    </Anchors>
                </Texture>
            </Layer>
        </Layers>
        <Scripts>
            <OnMouseDown>
                if not self:IsEnabled() then return end
                self.left:SetTexture("Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Left_Pressed.png")
                self.right:SetTexture("Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Right_Pressed.png")
                self.middle:SetTexture("Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Centre_Pressed.png")
            </OnMouseDown>
            <OnMouseUp>
                self.left:SetTexture("Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Left.png")
                self.right:SetTexture("Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Right.png")
                self.middle:SetTexture("Interface/AddOns/MapPinEnhanced/assets/buttons/ButtonLargeRed_Centre.png")
            </OnMouseUp>
            <OnSizeChanged>
                local height = self:GetHeight()
                self.left:SetSize(height, height)
                self.right:SetSize(height, height)
                self.middle:SetHeight(height)
            </OnSizeChanged>
            <OnDisable>
                self.left:SetDesaturated(true)
                self.right:SetDesaturated(true)
                self.middle:SetDesaturated(true)
                self.highlight:SetAlpha(0)
            </OnDisable>
            <OnEnable>
                self.left:SetDesaturated(false)
                self.right:SetDesaturated(false)
                self.middle:SetDesaturated(false)
                self.highlight:SetAlpha(1)
            </OnEnable>
        </Scripts>
        <NormalFont style="GameFontNormal" />
        <DisabledFont style="GameFontDisable" />
    </Button>
</Ui>
